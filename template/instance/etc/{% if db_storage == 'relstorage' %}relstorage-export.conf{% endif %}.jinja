
## Configuration file to pack a Relstorage database to a Filestorage database.
# It is meant to be used with the zobdconvert command line utility from RelStorage.
# zodbconvert is installed in the same virtual environment as the Plone site.
# For more information consult https://relstorage.readthedocs.io/en/latest/zodbconvert.html#how-to-use-zodbconvert

%import relstorage
<relstorage source>
    # blob settings
    shared-blob-dir false
    blob-dir {{ dst_path | realpath }}/instance/var/blobstorage
    # relstorage general settings
    keep-history true
    read-only false
    create-schema true
    blob-cache-size 6312427520
    # driver specific settings
    <postgresql>
        driver psycopg2
        dsn dbname='{{dbname}}' host='{{dbhost}}' port='{{dbport}}'  user='{{dbuser}}' password='{{dbpassword}}'
    </postgresql>
</relstorage>

<filestorage destination>
    path {{ dst_path | realpath }}/instance/var/filestorage
    blob-dir  {{ dst_path | realpath }}/instance/var/blobstorage
</filestorage>



# This file was generated by cookiecutter-zope-instance 2.2.1.
# for details follow https://github.com/plone/cookiecutter-zope-instance
